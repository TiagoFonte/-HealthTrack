<ion-header [translucent]="true" class="ion-no-border">
  <ion-toolbar>
    <ion-title>Health Track</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Health Track</ion-title>
    </ion-toolbar>
  </ion-header>

  <h2 class="ion-padding-start" style="font-weight: bold; margin-top: 10px;">
    Atividades Recentes
  </h2>

  <ion-list lines="none" style="background: transparent;">
    
    <ion-card *ngFor="let activity of activities$ | async" class="ion-margin-bottom">
      <ion-card-header>
        <ion-card-subtitle color="success">{{ activity.date | date:'dd/MM/yyyy HH:mm' }}</ion-card-subtitle>
        <ion-card-title>{{ activity.type }}</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <p><strong>Duração:</strong> {{ activity.duration }} min</p>
        <p><strong>Intensidade:</strong> {{ activity.intensity }}</p>
        <p *ngIf="activity.notes" style="font-style: italic; color: #888;">"{{ activity.notes }}"</p>
      </ion-card-content>

      <ion-footer>
        <ion-row>
          <ion-col>
            <ion-button expand="block" fill="clear" size="small" [routerLink]="['/edit-activity', activity.id]">
              <ion-icon slot="start" name="create-outline"></ion-icon>
              Editar / Detalhes
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-footer>
    </ion-card>

    <div *ngIf="(activities$ | async)?.length === 0" class="ion-text-center ion-padding">
      <p>Ainda não tens treinos registados.</p>
      <p>Clica no + para começar!</p>
    </div>

  </ion-list>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button color="success" routerLink="/add-activity">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

</ion-content>